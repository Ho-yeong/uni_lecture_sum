# 언어 번역 프로그램

### 매크로 프로세서

- 어셈블리어를 사용하기 쉽게 명령어들을 문자로 치환해 주는 프로세서

### 인터프리터

- 고급언어로 작성된 프로그램을 한 줄 단위로 받아들여 번역하고, 동시에 한 줄 단위로 실행시키는 언어 번역 프로그램
- BASIC, SNOBOL, LISP, APL 등...

---

---

## 1. 어셈블러

- 언어 번역 프로그램
- 어셈블리어로 작성된 원시프로그램을 목적 프로그램으로 번역하는 과정을 `어셈블`과정이라고 함

| 어셈블리어 | 언어 번역 프로그램 | 기계어 (자기장으로 저장) |
| ---------- | ------------------ | ------------------------ |
| MOV AH CD  |                    | 01001010101              |
| MOV LA 1E  | 어셈블러           | 1010001010               |
| INT 61P    |                    | 01010001011              |

### 1. 어셈블 과정

- 단일 패스 어셈블러 (Pass-1, One Pass Assembler)

  - 원시 프로그램을 명령문 하나씩 읽어서 기계어로 번역하여 목적 프로그램 생성

- 이중 패스 어셈블러 (Pass-2, Two Pass Assembler)
  - 원시 프로그램을 2번 읽는데, 1단계 작업을 수행하기 위하여 한번 읽고 난 후,
  - 2번째 읽으면서 1단계 결과를 이용하여 완전한 목적 프로그램을 생성함

### 2. Table 종류 및 구성

- 기계 명령어 테이블 (MOT)
- 의사 명령어 테이블 (POT)
- 기호 테이블 (ST)
- 리터럴 테이블 (LT)

### 3. Pass-1 과 Pass-2 과정 비교

| 구분                    | Pass-1                         | Pass-2                                            |
| ----------------------- | ------------------------------ | ------------------------------------------------- |
| 목적                    | 기호와 리터럴 정의             | 기호 번지에 대한 상대번지 생성, 목적프로그램 생성 |
| 기능                    | 1. 기계 명령어의 기능 정의     | 기계 명령어 생성                                  |
|                         | 2. 위치 계수기(PC, LC)관리     | ST에서 기호들의 값을 찾음                         |
|                         | 3. 사용된 리터럴들을 LT에 기억 | 의사 명령어 처리                                  |
|                         | 4. 해당하는 의사 명령어 처리   | 리터럴 발생                                       |
| ---                     | ---                            | ---                                               |
| 사용 관련 데이터 베이스 | 원시프로그램(Source Program)   | 원시 프로그램의 사본                              |
|                         | 위치계수기(PC: Program Couter) | 위치계수기(PC)                                    |
|                         | MOT, POT, ST, LT               | Pass-1 에서 만든 ST, LT                           |
|                         |                                | MOT, POT, 베이스 레지스터 테이블                  |
|                         |                                | PRINTLINE(어셈블결과 보고서 인쇄)                 |
|                         |                                | 목적 프로그램(Object Program)                     |

---

## 2. 매크로 프로세서

- 어셈블리어 + 매크로 -> 매크로 프로세서 -> 어셈블러 -> 기계어

### 1. 매크로 프로세서의 역할

- 어셈블리어를 사용하기 쉽게 명령어들을 문자로 치환함
- 매크로 라이브러리
  - 자주 사용되는 매크로들을 모아놓은 곳
- 문자열 치환처럼 생성, 삽입해서 실행
  - 사용된 횟수 만큼 명령어를 생성, 삽입해서 실행함
- 매크로 정의 내에 또 다른 매크로 정의를 할 수 있음
- 파스칼(Pascal)언어는 매크로 프로세서 기능이 없음

### 2. 매크로 프로세서의 기능

- 매크로 정의 인식
- 매크로 정의 저장
- 매크로 호출 인식
- 매크로 확장 및 인수

---

## 3. 컴파일러와 인터프리터

### 1. 컴파일러

- 언어 번역 프로그램이 고급 언어 종류마다 다름
- 고급언어를 이용하여 작성된 프로그램을 번역하고 실행하는 과정
- 고급 언어 -> 목적프로그램 -> (링킹, 로더) -> 기계어

- 번역하는 과정이 번거롭거나 복잡하고 시간이 오래 걸릴 수 있음
  - 번역 후 실행 속도는 빠름 (.exe 실행파일)

> C, C++, FORTRAN, COBOL, ALGOL, PASCAL, PL/1... 등

### 2. 인터프리터

- 고급언어로 이용하여 작성도니 프로그램을 `한 줄`단위로 받아들여서 번역함과 `동시에` 프로그램을 한 줄 단위로 실행

#### 특징

- 목적 프로그램이 생성되지 않고 프로그램 직접 실행
- 번역속도가 빠름
- 원시 프로그램의 수정과 변화에 빠르게 반응함
- 목적 프로그램이 생성되지 않으므로 프로그램을 실행할 때 마다 번역해야 하는 번거로움이 있음
- 프로그램 실행할 때 마다 매번 번역해야 하므로 실행속도가 느림

- 시분할 시스템에 유용
- 시분할 시스템을 사용하지 않을 경우 CPU 사용 시간에 따른 시간 낭비가 큼

> BASIC, SNOBOL, LISP, APL... 등

---

## 4. 링커와 로더

### 1. 링커

- 언어 번역 프로그램에 의해 생성된 목적프로그램, 라이브러리, 실행 프로그램 등을 연결해주는 시스템 소프트웨어

### 2. 로더

- 실행 프로그램 또는 실행프로그램에 필요한 정보와 자료를 보조기억장치로부터 주기억장치로 적재하는 시스템 소프트웨어

#### 로더의 기능

- 할당 (Allocation)
  - 목적 프로그램이 실행될 주기억장치(RAM)의 공간을 마련
- 연결 (Linking)
  - 여러 개의 독립적인 모듈을 연결
- 재배치 (Reloaction)
  - 주기억장치 공간 내에서 프로그램의 위치 변경
- 적재 (Loading)
  - 주기억장치에 프로그램을 한꺼번에 적재하거나, 필요할 때마다 부분별로 적재

#### 로더의 종류

- Compile and Go 로더
  - 번역프로그램과 로더가 하나로 구성
- 절대 로더 (Absolute Loader)
  - 로더의 역할이 축소되어 가장 간단한 프로그램으로 구성
  - 기억 장소 할당이나 연결을 프로그래머가 직접 지정하는
- 직접 연결 로더 (Direct Linking Loader)
  - 로더가 할당, 연결, 재배치, 적재를 모두 수행하는 일반적인 형태
- 동적 적재 로더 (Dynamic Loading Loader)
  - Binding 로더
    - 프로그램을 준비하기 전에 모든 준비만 담당
  - Module 로더
    - 적재만 담당
  - 동적 적재 로더: `Load-on-call` 라고도 함
  - CPU가 현재 사용 중인 부분만 적재
