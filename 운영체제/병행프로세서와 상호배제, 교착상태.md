# 병행프로세서와 상호배제, 교착상태

### 임계구역

- 하나의 프로세스가 자원을 사용중인 경우 그 프로새스만 그 자원을 사용하도록 지정해주는 영역

### 상호배제

- 어떤 프로세스가 자원을 사용중인 경우 다른 프로세스가 그 자원을 사용할 수 없도록 하는 기법

### 세마포어

- 프로세스에 대한 제어 신호를 전달하여 순서대로 작업이 진행되도록 하는 기법

### 모니터

- 공유자원을 프로세스에게 할당하기 위해 데이터와 데이터를 처리하는 프로시저로 구성된 동기화를 구현하기 위한 기법

---

---

## 병행 프로세서

- 두 개 이상의 프로세스들이 동시에 실행되어 있는 상태를 말함
- 자원을 공유해서 컴퓨터 시스템에서의 프로세서가 하는 작업을 동시에 하기 위함임

### 독립적 병행 프로세스

- 프로세스들이 독립적으로 실행

### 협동적 병행 프로세스

- 프로세스들이 서로 협력하여 실행

```
다중 프로그램, 다중처리, 분산처리에서 매우 중요하게 사용하는 개념
```

---

## 임계구역

- 다중 프로그래밍에서 많이 사용하는 개념
- 여러 개의 프로세스가 여러 개의 데이터 및 공유자원을 가지고 실행 중일때 어느 하나의 프로세스가 하나의 자원 혹은 데이터를 실행 중인 경우
  오직 그 프로세서만 사용하도록 지정해주는 자원이나 영역

```
하나의 프로세스가 사용중인 자원을 또 다른 프로세스가 사용 할 수 없음
```

- 어떤 프로세스가 임계구역에 들어가면 다른 모든 프로세스는 임계구역으로의 진입이 금지됨
- 특정한 프로세스가 임계구역을 독점하지는 못함
- 특정 프로세스만을 위한 것이 아니므로 독점할 수 없음

```
특징
- 여러 프로세스가 사용해야 하므로 임계구역 내에서의 작업은 빠르게 이루어져야 함
```

- 현재 임계구역에서 실행되고 있는 프로세스가 없다면 잔류영역에서 임계구역으로의 진입을 기다리는 프로세스의 사용을 허락해야 함

---

## 상호배제

- 어떤 프로세스가 공유자원을 한 번에 하나만 사용할 수 있을 경우 다른 프로세스가 같은 공유자원을 사용할 수 없도록 하는 기법

```
임계구역 유지 기법
- 여러 프로세스가 사용하는 공유자원에 대해서는 각 프로세스가 공유자원을 차례로 하나씩 사용하도록 해야 함
```

### 상호배제의 개요

```
프로세스들이 서로 경쟁하면서 공유자원으로의 접근을 시도하면서 서로 경쟁하고 인식하며 프로세스간 경쟁과 협력이 나타남
```

- 프로세스간 서로 `정보교환`이 이루어지지 않으면 서로의 수행에 영향을 미침
- 서로 경쟁관계에 있는 프로세스들은 상호배제가 필요함

### 소프트웨어적 구현방법

### 두 개의 프로세스 기준

- 데커(Dekker) 알고리즘
  - 두 개의 프로세스를 위한 상호배제의 최고의 소프트웨어 해결법
- 피터슨(Peterson) 알고리즘

### 여러개의 프로세스 기준

- Lamport의 제과점 알고리즘 (Bakery Algorithm)
  - 분산 처리 환경에 유용한 알고리즘
  - 빵집에서 번호표를 가지고 빵을 사는 것
- Dijkstra 의 N-process 상호배제

### 하드웨어적 구현

- Test And Set 기법
- Swap 명령어 기법
  - 두 워드의 내용을 교체하는 하드웨어 명령

---

## 동기화 기법

- 여러 개의 프로세스를 동시에 실행 할 수 없으므로 각 프로세스에 대한 처리 순서를 결정하는 것임
- 여러 개의 프로세스가 어떤 자원을 사용할 때 `동시에 사용하지 못하도록` 실행을 제어하는 기법으로 상호배제의 한 형태

```
순차적으로 재 사용 가능한 자원을 공유하기 위한 프로세스 처리 순서를 결정하는 기법
```

### 세마포어 (Semaphore)

```
기차 선로의 차단기, 신호기, 깃발
```

- 프로세스에 대한 제어 신호를 전달하여 순서대로 작업이 진행되는 기법
- P와 V 두 개의 연산으로 동기화 유지
- P
  - 프로세스를 대기 시키는 WAIT 동작
- V
  - 대기 중인 프로세스를 깨우는 시분할 동작

### 모니터 (Monitor)

```
공유자원을 프로세스에게 할당하기 위한 데이터와 데이터를 처리하는 프로시저로 구성된 동기화를 구현하기 위한 기법
```

- 세마포어 보다 제어가 쉬움
- 자료 추상화와 정보 은폐 개념을 기초로 함
- 모니터 내의 공유자원을 사용하기 위해서는 반드시 모니터의 진입부를 호출해야 함
- 외부 프로시저의 직접 엑세스 불가
- 모니터는 한 순간에 하나의 프로세스만 집입하여 활동하도록 보장
