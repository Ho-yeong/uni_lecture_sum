# 파일관리

### 파일

- 서로 관계있는 정보의 집합체, 레코드들의 집합체, 프로그램 구성의 기본 단위

### FCB

- File Control Block
- 파일을 제어하기 위한 파일에 대한 정보를 갖고 있다

---

---

## 파일의 개요

1. 서로 관계있는 정보의 집합체
2. 레코드들의 집합체
3. 작성자에 의해 정의된 많은 종류의 서로 다른 형태의 정보
4. 프로그램 구성의 기본 단위
5. 원시프로그램, 목적프로그램, 숫자, 데이터, 문자, 도형, 이미지, 소리 등 기록 가능
6. 보조기억장치에 저장
7. 파일마다 위치, 크기, 작성일 등의 속성을 가지고 있음

### 파일의 구성

- 항목, 레코드로 구성
- 파일의 속성
  - 파일 이름, 타입, 저장위치, 크기, 액세스 제어 데이터, 소유자, 레코드 크기, 식별 정보 등

### 파일의 유형

- 실행파일, 소스파일, 배치파일, 문서파일, 백업파일 등

### 파일의 구조

1. 순차파일
   - 순차 접근 방식 (SAM, Sequential Access Method)
   - 레코드를 논리적인 처리 순서에 의해 연속된 물리적 공간에 저장하는 파일
   - 순차적으로 기록/판독 됨
   - 전체 자료를 한번에 처리하는 급여계산에 적합
   - `자기 테이프`

- 장점
  - 파일 구성이 쉬움
  - 기억공간 이용효율이 높음
- 단점
  - 새로운 레코드 삽입/삭제 할 경우 전체를 움직여야 하므로 시간이 많이 걸림
  - 레코드 검색의 경우 순차적을 모두를 비교해야 하므로 효율이 낮음

2. 직접파일
   - 직접 접근 방식 (DAM, Direct Access Method)
   - 레코드를 임의의 물리적 공간에 기록 저장하는 파일
   - 해싱함수를 이용하여 보조기억장치의 물리적 상대주소를 계산하여 레코드 저장
   - 임의 접근이 가능한 `자기디스크, 자기 드럼` 사용

- 장점
  - 직접접근방식에 의해 레코드의 접근/기록/삭제의 순서에 제약이 없음
  - 접근시간이 빠르고 레코드의 삽입/삭제/수정이 쉬움
- 단점
  - 레코드의 주소변환 과정 필요(시간 소요)
  - 기억공간 효율이 저하 됨
  - 기억장치의 물리적 구조에 대한 지식 필요
  - 프로그래밍이 복잡함

3. 색인 순차파일
   - 색인을 이용한 순차접근방식 (ISAM, Index Sequential Access Method)
   - 순차파일과 직접파일의 방법이 결합된 형태
   - 레코드를 키 값 순으로 저장하고, 실제주소가 저장된 색인을 관리
   - 레코드 검색은 색인을 먼저 검색하고, 색인디 가르키는 주소를 찾아서 검색함
   - `자기디스크`에서 주로 사용, 자기테이프 사용불가

- 구성 영역
  - 기본, 색인, 오버플로우 영역
- 장점
  - 순차처리와 직접처리 가능
- 단점
  - 색인, 오버플로우 영역설정에 필요한 기억공간 필요
  - 직접파일보다는 접근시간이 느림

4. 분할 파일
   - 하나의 파일을 여러 개의 파일로 분할하여 저장하는 형태
   - 여러 개의 순차 서브파일로 구성된 파일
   - 자기테이프 같은 보조기억장치에 백업할 때 필요
   - 파일크기가 클 경우에 사용함
   - 백업, 압축 파일에 사용

---

## 파일시스템의 기능

- 파일의 생성, 저장, 삭제, 수정 등과 같이 파일을 액세스 및 제어를 하기 위한 파일 관리 기술

### 기능 및 특징

1. 사용자와 시스템 사이의 인터페이스 제공
2. 파일관리: 생성/저장/수정/삭제 및 파일 보호
3. 파일 정보가 손상되지 않도록 데이터 무결성 유지
4. 보조기억장치 공간할당 및 관리
5. 파일 접근/ 제어 방법 제공
6. 파일의 백업과 복구
7. 사용자가 파일을 편리하게 사용할 수 있도록 논리적 구조 지원
8. 사용자가 물리적 이름 대신 기호화된 이름 사용 가능하도록 함

### 구조

```
파일의 정의, 속성, 디렉터리 구조
```

- 파일에 사용되는 연산을 정의하는 논리적 파일
- 실제 디스크에 논리 파일 시스템을 mapping 하는 것

### 계층 구조

1. 장치드라이버
2. 입출력제어
3. 기본파일 시스템
4. 파일, 구성 모듈
5. 논리 파일 시스템
6. 어플리케이션

---

## 파일 디스크립터 (File Descriptor, 파일 서술자)

```
파일 제어블록 (FCB, File Control Block)
```

- 파일을 제어하기 위한 파일에 대한 정보를 갖고 있음
- 파일마다 가지고 있으며, 시스템 마다 다른 구조를 가질 수 있음
- 파일 시스템이 관리하고 사용자는 참조 불가능

### 정보

1. 파일 이름
2. 파일 구조: 순차파일, 색인수차파일 등
3. 파일 유형
4. 보조기억장치에서의 파일 위치
5. 보조기억장치의 유형: 자기디스크 등
6. 액세스 제어 정보
7. 생성/제거/최종 수정의 날짜/ 시간
8. 액세스 횟수
