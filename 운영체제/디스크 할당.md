# 디스크 할당

### 디스크 할당

- 디스크의 공간을 효율적으로 관리하고 사용하기 위하여 파일의 배치를 디스크 공간에 어떻게 할당 할 것인지를 결정하는 방법

### FAT

- File Allocation Table
- 파일 할당 테이블이라고 하는 파일 시스템 구조

---

---

## 디스크 할당의 개요

- 대부분 하나의 디스크를 사용하면서 파일이 동일한 디스크에 저장됨

```
디스크 내에 파일을 어떻게 배치하느냐에 따라 파일을 액세스하는 시간이 빨라지고 또한 데이터 입력/출력 시간도 빨라짐
```

---

## 디스크 할당의 방법

- 연속 할당 (Contiguous Allocation)
- 불연속 할당 (Non-Contiguous Allocation)

### 연속 할당 (Contiguous Allocation)

- 파일을 디스크의 연속된 공간에 할당하는 방법
- 논리적 주소로 연속된 데이터들이 물리적 공간에 연속적으로 저장되는 형태

- 특징
  1. 데이터로의 접근시간이 빠름
  2. 파일 크기에 맞는 공간이 있어야 저장이 되며, 특히 연속된 공간이 있어야 저장됨
  3. 디렉터리에서는 파일에 대한 처음시작 주소와 길이만 가지고 있음
  4. 파일의 생성과 삭제가 자주 일어나면 단편화가 발생하기 쉬움
  5. 단편화가 발생하면 디스크 재배치를 통하여 파일을 압축 관리함

### 섹터 단위 할당 (연결 할당)

- 파일이 섹터 단위로 섹터에 나뉘어서 할당되는 방법
- 섹터들이 연결리스트로 연결되어 있음

- 특징
  1. 하나의 파일에는 다음으로 연결되는 리스트의 주소를 가지고 있음
  2. 디렉터리에는 처음시작 주소와 마지막 주소만 가지고 있음
  3. 섹터 단위로 저장되므로 단편화가 발생하지 않음
  4. 파일크기에 따르는 공간 확보는 필요하지만 꼭 연속된 공간일 필요는 없음
  5. 레코드 탐색은 순차적으로 이루어지므로 탐색시간이 긺
  6. 직접접근이 불가능
  7. 디스크 섹터의 포인터가 차지하는 만큼의 디스크 공간이 줄어듦

### 블록체인 기법

- 섹터 단위 할당 과 비슷
- 할당단위가 블록 단위로 할당됨

- 특징
  1. 하나의 블록에는 여러 개의 섹터가 있음
  2. 디렉터리에는 처음시작 블록주소만 가지고 있음
  3. 삽입/삭제할 때 포인터 주소만 수정하므로 쉬움
  4. 탐색은 순차적으로 이루어져야 함
  5. 탐색속도가 느림

## 색인 블록체인 기법 (인덱스 할당)

- 특징
  1. 파일마다 색인 블록을 가지고 있음
  2. 블록에는 할당된 포인터 주소를 모두 한꺼번에 가지고 있음
  3. 디렉터리는 포인터 주소가 포함된 색인블록을 가지고 있음
  4. 색인블록 하나로 파일 전부를 나타낼 수 없을 경우 연속도니 색인블록을 서로 연결하여 사용할 수 있음
  5. 색인에 의한 직접 접근이 가능함
  6. 탐색시간이 빠름
  7. 삽입할 때 색인 블록을 재구성함
  8. 색인 블록이 차지하는 만큼의 디스크 공간이 줄어듬

### 블록 지향 파일 사상 기법

- 포인터 대신 파일 할당 테이블 (FAT, File Allocation Table)에 있는 블록 번호를 사용하는 기법
- FAT에는 색인 블록번화와 색인 블록번호에 의해 가르키는 또다른 블록번호로 구성됨
- 데이터의 삽입/삭제가 쉬움
- 디렉터리는 FAT의 시작주소를 가지고 있음
