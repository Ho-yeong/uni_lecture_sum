# 교착상태의 개요와 발생

### 교착상태

- 자원을 점유하고 있는 두 개의 프로세스가 서로 다른 상대의 자원을 요구하면서 무한정 기다리는 상태

### 자원

- CPU, 주기억장치, 보조기억장치, 디스크, 테이프, 프린터, 스캐너, 디바이스, 버스, 파일, 데이터베이스, 인터럽트, 신호, 메시지 등
- 입출력 버퍼 같은 `입출력 장치를 비롯한 주변 장치와 통신 신호`

---

---

## 교착상태의 개요

### 교착상태란?

- 자원을 점유하고 있는 두 개의 프로세스가 서로 다른 상대의 자원을 요구하면서 무한정 기다리는 상태

```
또 다른 표현은 하나 또는 여러 개의 프로세스들은 프로세스를 진행 중에 또 다른 자원을 요구하며,
`일어나지 않을 사건(자원 할당)`을 무한정 기다리는 상태를 말하기도 함
```

> 보통은 다중 프로그래밍 상태에서 발생함
>
> > CPU가 하나에 프로그램이 여러개 라서

### 정의

- 하나 또는 둘 이상의 프로세스가 더 이상 계속할 수 없는 `어떤 특정 사건(자원 할당)을 기다리는 상태`
- 둘 이상의 서로 다른 프로세스가 요구한 자원을 할당 받아 점유하고 있으면서 `상호간에 상대방의 프로세스가 가진 자원을 요구하는 때를 말함`

---

## 교착상태의 발생

```
두 개의 프로세스와 두 개의 파일
```

- 파일을 이용해서 작업이 실행되는 동안, 또 다른 파일에 대한 다른 작업의 요청이 이루어지면 교착상태 발생

```
두 개의 프로세스가 각각 장치(드라이브)를 한대씩 사용
```

- 서로 상대의 장치를 사용 요청할 경우 교착상태 발생

### 전용 장치를 할당 할 때

### 여러 주변장치를 할당할 때

- 여러 개의 프로세스가 전용 주변장치들을 요구할 때
  - 세 개의 프로세스가 세 개의 전용장치를 사용하는 경우 교착상태 발생

### 스풀링 시스템에서 출력할 때

```
스풀링 시스템이 교착상태에 빠지기 쉬움
```

- 디스크에 할당된 스풀링 공간의 출력이 완료되지 않은 상태에서 다른 작업이 스풀링 공간을 모두 차지하게 되면 교착상태 발생

- 교착상태 발생 줄이기
  - 스풀링 공간을 많이 할당
    - 비용 증가
  - 스풀링 작업의 일정량 제한 설정
    - 처리량 감소

### 디스크를 공유할 때

```
디스크 사용에 대한 제어가 없을 경우 교착상태 발생
```

- 두 개의 프로세스가 두 개의 실린더 혹은 두 개의 섹터로 접근하여 서로 각각의 자료를 요구할 경우 교착상태 발생

### 네크워크에서의 교착 상태

- 네트워크의 흐름을 제어하는 프로토콜이 없을 경우 교착상태 발생
- 네트워크의 교통량증가, 혹은 입출력 버퍼공간이 부족할 경우 교착상태 발생

---

## 교착상태의 발생 조건

```
다음의 4가지 조건 중에 한가지라도 충족하지 않으면 교착상태가 발생하지 않음
```

1. 상호배제

   - 한 번에 하나의 프로세스만 해당자원을 사용할 수 있어야 함

2. 점유와 대기

   - 최소한 하나의 자원을 가지고 있으면서 다른 프로세스에 할당된 자원을 갖기 위해서 대기하는 프로세스가 있어야 함

3. 비선점

   - 다른 프로세스에 할당된 자원은 강제로 뻇을 수 없음

4. 순환대기 (환형 대기)
   - 교착상태 발생 때 반드시 요구되는 조건
   - 공유자원과 공유자원을 사용하기 위한 프로세스들이 원형으로 구성되어 있고, 자기에게 할당된 자원을 가지면서 앞 혹은 뒤의 프로세스가 가진 자원을 요청하면서 대기함
