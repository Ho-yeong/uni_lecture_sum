# 분포에 의한 정렬과 외부 정렬

### 계수 정렬

- 입력 키가 어떤 범위, 예를 들어 1부터 k사이의 정수 범위에 있다는 것을 알고 있을때에만 적용할 수 있는 방법.
- 입력 키의 출현 횟수를 세어서 정렬하는 방식

### 기수 정렬

- 키의 각 자릿수에 대하여 낮은 자리에서 높은 자리의 순으로 버킷정렬을 적용하여 정렬하는 방법.
- 각 자릿수 별로 계수정렬과 같은 안정적 정렬 알고리즘을 적용하여 정렬하는 방식으로 낮은 자리수부터 먼저 정렬하는 방식

### 버킷 정렬

- n개의 키가 있을 때 구간 [0,1]을 n등분하고 이들 각각을 하나의 버킷으로 한다.
- 각 키를 크기에 따라 각 버킷에 분배한다면 구간 내에서 균등하게 분포한다고 가정했으므로 하나의 버킷에는 하나의 키만 들어있을 확률이 높다.
- 만약 한 버킷에 여러 키가 들어가게 된다면 같은 버킷에 속하는 키끼리 간단한 정렬 알고리즘으로 정렬하는 방식

---

---

## 게수 정렬 (Counting Sort)

- 입력키가 어떤 범위에 있다는 것을 알고 있을때에만 적용 가능

```
입력에 10이라는 키가 있고 이보다 작은 키가 5개 있다면 10은 정렬순서에서 6번째 위치함
```

- 계수 정렬에서는 입력 키들이 범위 k 내의 각 값에 대하여 입력 키가 실제로 입력에 나타나는 횟수를 계산함
- 시간복잡도 O(n)

### 1단계

- Data에서 각 항목들의 발생횟수를 셈
- 횟수들은 정수 항목들로 직접 인덱스되는 카운트 배열에 저장
- 정렬된 집합에서 각 항목의 앞에 위치할 항목의 개수를 반영하기 위하여 카운트들은 조정함 (누적된 값을 더해감)

### 2단계

- temp에 1을 삽입하고 Counts[1]을 감소시킨 후
- temp에 4를 삽입하고 Counts[4]를 감소시킨 후
- temp에 2를 삽입하고 COunts[2]를 감소시킨 후
- 계속 반복

## 정의

- 입력키의 범위를 알고 있을때만 사용가능

## 특징

- 안정적인 정렬
- 시간복잡도 O(n)
- 입력 데이터 계수를 위한 배열, 데이터출력을 위한 배열이 필요

---

## 기수 정렬 (Radix Sort), 버킷 정렬

### 기수 정렬

- d 자리수 숫자들에 대하여 계수정렬로 정렬한다면 각 자리에 대하여 O(n)시간이 걸림
- 메모리의 여유가 많지 않을 경우에는 적용하기 어려운 방법

### 1단계

- 1의 자리를 기준으로 각 큐에 계수정렬을 기준으로 데이터를 담음
- 1의 자리가 0인 데이터(10, 20, 30 ...)를 큐에 담고, 1의 자리가 4인 데이터를 큐에 담고(4, 14, ...)
- 1의 자리가 5인 데이터를 정렬 ... 9인 데이터를 정렬 ....

### 2단계

- 10의 자리를 기준으로 계수정렬을 실시
- 10의 자리가 1인 데이터가 앞으로
- 10의 자리가 2인 데이터가 앞으로 ... 계속

### 요약

- 키의 각 자릿수에 대하여 `낮은자리에서 높은자리 순`으로 버킷정렬을 적용하여 정렬하는 방법
- 시간 복잡도 O(n)
- 버킷정렬을 적용할 수 있는 조건은 키의 범ㅇ위를 미리 알수 있고 입력키가 균등하게 분포되어 있을 때

---

## 버킷 정렬

- 계수 정렬을 일반화 한 것

| 계수 정렬                                | 버킷 정렬                                                                                      |
| ---------------------------------------- | ---------------------------------------------------------------------------------------------- |
| 키 값이 작은 범위안에 들어올때 적용 가능 | 키 값 뿐만 아니라 그 범위 내에서 키 값이 확률적으로 균등하게 분포된다고 가정가능할때 적용 가능 |

- 정해진 구간을 n등분 했을 때 각 부분 구간을 버킷이라 함
- O(n) 시간복잡도
- 연결리스트

---

## 외부 정렬

- 주 기억장치의 용량이 적기 때문에 자료의 양이 많은 대형 파일은 한 번에 내부 정렬로 처리하는 것이 힘들 때 사용
- 보조 기억장치에 저장 후 각각의 부분파일을 내부 정렬한 후 합병시켜 정렬함
