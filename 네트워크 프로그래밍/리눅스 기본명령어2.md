# 리눅스 기본 명령어 2

### ARP

- Address Resolution Protocol

### MAC

- Media Access Control

---

---

## 1. IP주소 및 라우팅 정보 확인

### 1. MAC - IP 주소 변환

- APR (Address Resolution Protocol)
  - IP 주소를 MAC주소로 변환하기 위한 프로토콜
  - MAC 주소는 일명 이더넷 인터페이스 카드의 `하드웨어 주소(또는 ID: 48비트값)`, 공장에서 생산될 때 이미 독립적인 주소값이 할당됨
- 일반적으로 스타형 토폴로지 구조의 네트워크에서 사용되는 프로토콜
- MAC 주소를 얻기 위해, IP 주소 값을 갖는 특정 패킷을 멀티캐스트(Multi-cast)함
- 수신 호스트는 요청된 ARP 패킷에 대하여, 자신의 IP 주소와 일치하면 송신자에게 응답

- 명령어
  - `arp`
  - 로컬 시스템의 MAC 캐시정보를 조회
  - IP 주소와 MAC을 수동 맵핑

### 2. IP 주소 정보 확인

- `ifconfig [이더넷]`
  - NIC (Network Interface Card)에 부여된 IP 주소 확인 및 설정
  - 일반 사용자는 주소확인만 할 수 있으며, 관리자계정 (root)를 통해 IP 주소 할당 등의 설정이 가능

| 옵션            | 내용                                             |
| --------------- | ------------------------------------------------ |
| -a              | 사용 가능한 모든 NIC 정보를 출력                 |
| -s              | 이더넷별 간략한 정보 출력, netstat -i 와 동일    |
| 이더넷 up/down  | 지정한 이더넷에 대해 활성/비활성 시행 (관리자용) |
| mtu N           | mtu의 크기를 지정 (관리자용)                     |
| 이더넷 [IP주소] | 지정한 이더넷에 IP를 부여                        |

### 3. 라우팅 정보 확인

- `route`
  - IP 라우팅 테이블을 출력하거나 조작
  - IP 주소를 통해 출력될 이더넷을 설정하거나 출력을 막을 수 있음

---

## 2. 네트워크 상태 보기

- `netstat`
  - 네트워크 접속상태를 출력
  - 라우팅테이블 정보 출력
  - 인터페이스 통계 출력
  - 가상IP 접속관련 정보 출력

| 옵션 | 내용                                                                        |
| ---- | --------------------------------------------------------------------------- |
| -a   | 시스템의 모든 스탯정보를 출력 (--all)                                       |
| -n   | 수치정보에 대한 문자로 변환하는 작업을 수행하지 않고 수치정보를 그대로 출력 |
| -p   | 소켓에 대한 프로세스정보를 같이 출력 (root계정에만 해당)                    |
| -r   | 라우팅 정보를 출력 (--route)                                                |
| -i   | 인터페이스 정보를 출력 (--interface)                                        |
| -c   | 연속적으로 반복하여 출력 (-continuous)                                      |
| -l   | listen 상태의 소켓정보를 출력 (-listening)                                  |
| -s   | 통계정보를 출력 (-statistics)                                               |
| -t   | tcp 정보를 출력 (--tcp)                                                     |
| -u   | udp 정보를 출력 (--udp)                                                     |

### 패킷 전송 확인

- `ping [주소]`
  - 지정한 주소에 ICMP 메시지를 전송
  - Echo 요청과 응답패킷을 통해 송신된 메시지가 잘 전달됐는지 확인
  - 반응속도 및 대역폭 측량이 가능

---

## 3. IP 및 도메인 주소 검색

- `nslookup [도메인명]`

  - 네임서버 (Name Server) 쿼리
  - 주어진 도메인명에 대하여 IP주소를 검색

- `host [도메인명]`

  - nslookup 명령과 유사한 기능을 제공

- `hostname`

  - 로컬 호스트의 호스트/도메인 이름 및 호스트네임 할당 IP를 검색 (본인의 컴퓨터)

- `whois [IP 또는 도메인명]`

  - 주어진 IP 또는 도메인명에 대한 상세한 정보를 조회
  - 주로 IP로 사용
  - nslookup 명령어를 통해 IP를 알아낸 뒤 whois 명령어로 정보 조회

- `ip`
  - 로컬호스트의 IP 정보 출력 및 수정
  - 라우팅 경로 출력 및 수정
  - arp, ifconfig, rout, netstat 명령어의 기능들을 제공 (출력형식은 다름)

| 명령     | 유사        | 기능 설명                            |
| -------- | ----------- | ------------------------------------ |
| ip a     | ifconfig -a | 사용 가능한 이더넷의 정보를 출력     |
| ip r     | route       | 라우팅정보를 조회                    |
| ip neigh | arg -a      | 캐쉬에 기록된 MAC과 IP의 관계를 출력 |
