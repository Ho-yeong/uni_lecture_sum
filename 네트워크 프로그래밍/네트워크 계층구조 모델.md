# 네트워크 계층 구조 모델 : OSI

### 프로토콜

- 네트워크 상에 정보 교환을 위하여 정한 다양한 규칙과 방법에 대한 약속

### 서비스 데이터 단위

- SDU
- 상위 계층 혹은 하위 계층 사이에 주고 받는 것

### 프로토콜 데이터 단위

- PDU (Protocol Data Unit)
- 같은 계층 사이에서 주고 받는 것

### 프레임

- Frame
- OSI 2계층에서 사용되는 데이터 단위

### 패킷

- Packet
- OSI 3계층에서 사용되는 데이터 단위

### 세그먼트

- Segment
- OSI 4계층에서 사용되는 데이터 단위

---

---

## 통신 프로토콜

### 1. 프로토콜 (Protocol)

- 네크워크 상에 정보교환을 위하여 정한 다양한 규칙과 방법에 대한 약속
- 정보의 표현 형식, 교환 절차, 행위에 대한 규약

#### 1. 프로토콜 구성 요소

- 구문 (Syntax)

  - 전송할 정보에 대한 구조와 순서
  - 형식(Format)
  - 부호화(Coding)
  - 신호레벨(Signal Level)

- 의미 (Semantics)

  - 구문에서 가지는 비트가 가지는 의미를 약속
  - 패턴에 대한 해석
  - 전송요류/오류수정 등에 관한 제어정보를 규정

- 타이밍 (Timing)
  - 종단간 통신속도를 조정하거나 메세지 전송 시간 및 전송 순서 등에 대한 특성

---

## OSI 계층 모델

- 이기종 컴퓨터 간에 통신을 수행할때 네크워크 구조에 상관없이 통신을 할 수 있도록 제안
- 하드웨어와 소프트웨어의 논리적인 변경 없이 시스템간의 통신을 개방하는 것을 목적
- 7개의 서로 다른 계층으로 정의
  - 물리 (1계층)
  - 데이터 링크 (2계층)
  - 네트워크 (3계층)
  - 전송 (4계층)
  - 세션 (5계층)
  - 표현 (6계층)
  - 응용 (7계층)

### 각 계층 에서의 구성

- 헤더

  - 각 계층의 기능과 관련된 정보가 포함
  - 송신측은 헤더를 추가, 수신측의 해당 계층이 사용

- 데이터 단위

  - 기본 전송 단위 (데이터에 헤더와 트레일러를 추가)
  - 상위계층에서 전송을 원하는 데이터인 SDU (Service Data Unit)에 제어 정보인 PCI (Protocol Control Information)을 추가한 것
  - 제어 정보 -> 흐름 제어 정보, 에러 제어 정보, 주소 정보 등이 포함
  - 서비스 데이터 단위 (SDU)
    - 상위 계층 혹은 하위 계층 사이에서 주고 받는 것
  - 프로토콜 데이터 단위 (PDU)
    - 같은 계층 사이에서 주고 받는것
  - 데이터 링크 계층 -> 물리계층 에서만 트레일러가 붙음

---

## 각 계층별 특성과 기능

### 1. 물리 계층 (Physical Layer)

- OSI 모델의 최하위 계층
- 데이터 전송을 위해 (물리적)링크를 활성화, 관리하기 위해 `기계적, 전기적, 기능적, 절차적`특성 등을 정의
- 허브, 라우터, 네트워크 카드, 케이블 등의 전송매체를 통해 비트(Bit)신호들을 전송
- 데이터링크 계층에서 형성된 데이터 프로엠을 전기적 신호 또는 광신호로 변환하여 송수신

| 전송방식 |                                                                            |
| -------- | -------------------------------------------------------------------------- |
| 송신측   | 0 과 1로 구성된 비트열의 데이터(프레임)을 받아 전기적 신호로 변환후 송신   |
| 수신측   | 감지된 전기 신호를 0과 1로 구성된 비트열로 복원하여 데이터링크 계층에 전달 |

### 2. 데이터 링크 계층 (Data Link Layer)

- 물리적 링크를 통해 데이터를 신뢰성 있게 전송하는 계층
- 하위 계층에 속하며 물리계층의 바로 위에 위치
- 프레임(Frame)이라는 논리적인 단위 사용
- 수신될 인접 노드(물리적 위치)의 주소가 더해짐
  - 최종 수신지의 주소가 아니라 전송되는 다음 노드의 주소
- 시스템 간에 오류 없는 데이터 전송을 위해 프레임으로 구성하여 처리
  - ex) Stop-N-Wait

| 전송방식 |                                                                                        |
| -------- | -------------------------------------------------------------------------------------- |
|          | 네트워크 계층에서 받은 데이터에 주소정보(인접노드)와 제어정보를 헤더와 트레일러에 추가 |

### 3. 네트워크 계층 (Network Layer)

- 패킷을 송신측 단말에서부터 수신측 단말`(최종 경로)`로 전송
- 상위 계층에 연결하는데 필요한 데이터 전송과 경로 선택 기능 제공
- 라우팅 프로토콜을 사용하여 최적을 경로를 선택
- 수신된 패킷의 주소정보를 확인하여 내 것이면 전송 계층으로 전달
- 전송과정에서 패킷(Packet)이 분할되거나 재결합 됨

| 전송방식 |                                                                                              |
| -------- | -------------------------------------------------------------------------------------------- |
| 스위칭   | 데이터 전송을 위해 물리 링크들을 임시적으로 연결하여 전용 채널을 생성                        |
| 라우팅   | 패킷을 보낼때 다양한 경로중에서 가장 좋은 경로를 선택하는 것을 의미 (현재 사용중인 통신구조) |

### 4. 전송 계층 (Transport Layer)

- 오류 복구, 흐름 제어 담당
- 두 시스템 간의 신뢰성 있는 데이터 전송을 보장
- 시스템 종단(End-Point)간의 투명성 있는 데이터 전송을 제공

| 전송방식            |                                             |
| ------------------- | ------------------------------------------- |
| 송신측              | 데이터를 패킷으로 분할하여 흐름제어 전송    |
| 수신측              | 수신된 패킷들을 재조립                      |
| 프로그램 (프로세스) | 송수신을 담당 ex) 웹서버, 인터넷 익스플로러 |

    - 데이터 헤더에 포트 주소를 포함 (운영체제에서는 소켓(Socket)주소로 할당)
    - 데이터 헤더에 순서와 세그먼트 번호를 포함
    - 세션 계층으로부터 온 데이터를 세그먼트로 나누고 수신자가 재조립할 수 있도록 순서를 헤더에 표시

### 5. 세션 계층 (Session Layer)

- 응용 프로그램 계층 간 통신에 대한 제어 구조를 제공 ex) 로그인, 인증 등
- 접속을 설정, 유지, 종료시켜주는 역할
- 통신 장치들 간의 설정을 유지
- 데이터의 단위(메시지)를 전송 계층으로 전송할 순서를 결정
- 데이터에 대한 점검, 복구를 위해 동기를 위한 위치를 제공
- 세션 종료 시간을 표시

### 6. 표현 계층 (Presentation Layer)

- 송신측, 수신측 사이에서 표준화된 데이터형식을 규정
  - 이미지가 bmp인지 img 인지

| 전송방식 |                                                       |
| -------- | ----------------------------------------------------- |
| 송신측   | 수신측에 맞는 형태로 변환(아스키 코드 EBCDIC), 암호화 |
| 수신측   | 응용 계층에 맞는 형태로 변환, 복호화                  |

- 전송률을 높이기 위해 데이터 압축

### 7. 응용 계층 (Application Layer)

- 파일전송, DB, 원격 접속, 메일 전송 등 응용 서비스를 네트워크에 접속시키는 역할
- 사용자로 부터 정보를 입력 받아 하위 계층으로 전달
- 받은 데이터를 사용자가 볼 수 있게 표현
